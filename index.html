<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>A-Frame | HLS</title>
    <script>
      // HACK: `TypeError: navigator.xr.requestDevice is not a function` を回避する
      if (navigator.xr) {
        navigator.xr.requestDevice = () => Promise.reject();
      }
    </script>
    <script src="./assets/vendor.js"></script>
    <script src="./assets/app.js"></script>
  </head>
  <body>
    <a-scene>
      <a-sky color="#000000"></a-sky>
    </a-scene>
    <a-scene id="ascn">
      <a-assets>
        <!-- 空ではあるが, `src` 属性は必要 (https://github.com/sdm-wg/web360square/issues/18) -->
        <video id="video" src="" loop muted />
      </a-assets>
      <a-entity id="camera" camera rotation-reader look-controls wasd-controls="acceleration: 200;"
        position="0 1.6 0">
        <!--
        <a-entity cursor="rayOrigin: mouse" position="0 0 -1"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat">
        </a-entity>
        -->
        <a-entity position="0 0 -1" cursor="rayOrigin: mouse" raycaster="objects: .clickable"
          geometry="primitive: ring; radiusInner: 0.02; radiusOuter: 0.03" material="color: black; shader: flat">
        </a-entity>
      </a-entity>
      <!-- video -->
      <a-videosphere src="#video" rotation="0 270 0"></a-videosphere>

      <!-- switch for keio concert -->
      <a-entity id="sphere-switch" class="clickable" cursor-listener-switch geometry="primitive: sphere" position="-1.4 1 -7.5"
        scale="0.25 0.25 0.25" material="color: gray"></a-entity>
      <a-text position="-1.1 1 -7.5" color="white" value="<- click to play"></a-text>

      <!-- switch for billboard -->
      <!--
      <a-entity id="sphere-switch" class="clickable" cursor-listener-switch geometry="primitive: sphere" position="0 -0.5 -3"
        scale="0.25 0.25 0.25" material="color: gray"></a-entity>
      <a-text position="0.3 -0.5 -3" color="white" value="<- click to play"></a-text>
      -->
    </a-scene>
  </body>
</html>
